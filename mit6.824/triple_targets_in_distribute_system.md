# 分布式系统的三个目标

接下来在 1.4 至 1.6 中主要介绍了分布式系统的三个目标: 
+ [可扩展性](#可扩展性)
+ [可用性](#可用性)
+ [一致性](#一致性)

## 1.4 可扩展性
可扩展性: 通过增加机器就可以提升系统性能.

实现可扩展性的架构是困难的, 作者在文中举了一个 Web 服务器的例子: 初期瓶颈在 web 服务时可以扩充服务的数量, 但是后期瓶颈可能会转移到单点数据库上.

自己经历的例子: 按小时融合日志. 在不使用 Spark 等计算引擎的前提下, 只能做到扩容到 24 台, 即每台处理 1 个小时的日志.

如果把 1 个小时的日志分到多台运行, 因为对日志有合并成单文件和日志排序的需求, 实现的难度就会非常大.

## 1.5 可用性

**1.5.1 为什么要强调可用性?**

在大型的分布式系统中, 通过概率可以计算出某台机器出现问题的概率会非常大. 所以分布式系统必须考虑到在特定的故障范围内系统仍然可用.

**1.5.2 如何定义容错?**

1. 容错的核心思想是可用性, 即在特定的错误类型下, 系统依旧能正常运行.
2. 能够从故障中恢复. 宕机的服务在人工介入修复后能够继续正常工作.

实现可恢复性的两个重要工具:
+ 数据要落盘. 保存在内存中的数据会因宕机而丢失, 所以重要的数据要落盘;
+ 数据要有副本. 单个磁盘仍旧可能损坏, 所以要做多个备份.

## 1.6 一致性

**1.6.1 强一致**

有一些非常直观，比如说get请求可以得到最近一次完成的put请求写入的值。这种一般也被称为强一致（Strong Consistency）.

强一致的通信代价非常高, 要读取所有的副本才能判断出最新的写出. 但是读取多个副本, 如多个副本在同一个机房起不到很好的容灾效果, 副本之间距离过远会拖慢系统速度.

**1.6.1 弱一致**

不保证总能读取最新的写入.

## 参考
+ [MIT6.824分布式系统课程中文翻译](https://zhuanlan.zhihu.com/c_1273718607160393728)
